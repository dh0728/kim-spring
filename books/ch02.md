# 2장 스프링 부트3 시작하기

## 2.1 스프링의 등장
엔터프라이즈 애플리케이션 : 대규모의 복잡한 데이터를 관리하는 애플리케이션
- 많은 사용자의 요청을 동시에 처리해야 하므로 서버 성능과 안정성, 보안이 매우 중요
- 스프링은 서버 성능, 안정성, 보안을 매우 높은 수준으로 제공하는 도구

### 2.1.2 스프링을 더 쉽게 만들어주는 스프링 부트
스프링을 더 쉽고 빠르게 이용할 수 있도록 만들어주는 도구

**스프링 부트의 중요성**
- 톰캣, 제티, 언더토우 같은 웹 애플리케이션 서버(web application server, WAS)가 내장되어 있어서 따로 설치를 하지 않아도 독립적으로 실행할 수 있음
- 빌드 구성을 단순화하는 스프링 부트 스타터를 제공
- XML 설정을 하지 않고 자바 코드로 모두 작성 가능
- JAR를 이용해서 자바 옵션만으로 배포 가능
- 애플리케이션 모니터링 및 관리 도구인 스프링 액추에이터(spring actuator)을 제공

**차이점**

**1 구성의 차이**
스프링은 개발에 필요한 환경을 수동으로 구성하고 정의해야하지만 **스프링 부트**는 스프링 코어와 스프링 MVC의 모든 기능을 자동으로 로드

**2 내장 WAS의 유무**
- 스프링 애플리케이션은 일반적으로 톰캣과 같은 WAS에서 배포
- WAS : 간단히 웹 애플리케이션을 실행하기 위한 장치
- 스프링 부트는 jar 파일만 만들면 별도로 WAS를 설정하지 않아도 애플리케이션을 실행할 수 있음
- 스프링ㅇ 부트 WAS는 톰캣, 제티, 언더토우가 있어서 상황이 필요한 WAS를 선택할 수 있다.

## 2.2 스프링 부트 콘셉트 공부하기기

### IoC
Inversion of Control을 줄인 표현으로 직역하면 **제어의 역전**
- 제어의 역전은 다른 객체를 직접 생성하거나 제어하는 것이 아니라 외부에서 관리하는 객체를 가져와 사용하는 것
- 스프링은 스프링 컨테이너가 객체를 관리 제공하는 역할을 함

```
public class A {
  private B b; //코드에서 객체를 생성하지 않고 어디선가 받아온 객체를 b에 할당
}
```

### DI
제어의 역전을 구현하기 위해 사용하는 방법이이다. DI는 Dependency Injection을 줄인 표현이고 직역하면 의존성 주입이다.

- DI는 어떤 클래스가 다른 클래스에 의존한다는 뜻
- **@Autowired**라는 애너테이션은 스프링 컨테이너에 있는 빈이라는 것을 주입하는 역할
- **빈** : 스프링 컨테이너에서 관리하는 객체를 말함

```
public class A {
  // A에서 B를 주입받음
  @Autowired
  B b;
}
```

### 스프링 컨테이너
빈이 생성되고 소멸되기까지의 생명주기를 이 스프링 컨테이너가 관리
- @Autowired 같은 애너테이션을 사용해 빈을 주입받을 수 있게 DI를 지원

### 빈
스프링 컨테이너가 생성하고 관리하는 객체
- 스프링은 빈을 스프링 컨테이너에 등록하기 위해 XML 파일 설정, 애너테이션 추가 등의 방법을 제공
- 예를 들ㅇ어 MyBean이라는 클래스에 @Component 애너테이션을 붙이면 MyBean 클래스가 빈으로 등록
- 이후 스프링 컨테이너에서 이 클래스를 관리
- 빈의 이름은 클래스 이름의 첫 글자를 소문자로 바꿔 관리

```
@Component
public class MyBean {

}
```

### 관점 지향 프로그래밍
스프링에서 하나 중요한 개념으로 AOP가 있음
- AOP는 Aspect Oriented Programmming을 줄인 표현 직역하면 관점 지향 프로그래밍
- 프로그래밍에 대한 관심을 핵심관점, 부가 관점에서 나누어서 관심 기준으로 모듈화하는 것을 의미
- 부과 관점 코드를 핵심 관점 코드에서 분리할 수 있게 해주기 때문에 핵심 관점 코드에만 집중하게 될 뿐만 아니라 프로그램의 변경과 확장에도 유연하게 대응할 수 있다

### 이식 가능한 서비스 추상화 (PSA)
PSA는 Portable Service Abstraction을 줄인 표현
- 스프링에서 제공하는 다양한 기술들을 추상화해 개발자가 쉽게 사용하는 인터페이스를 말함
- PSA에는 매핑과 클래스, 메서드의 매핑을 위한 애너테이션이 있음
- 스프링에서 데이터베이스에 접근하기 위한 JPA, MyBatis, JDBC 같은 것들이 있음
- WAS도 PSA의 예시 중하나로 코드는 그대로 두고 WAS 톰캣이 아닌 언더토우 ,네티와 같은 다른 곳에서 실행애도 기존 코드를 그대로 사용할 수 있음

## 2.3 스프링 부트 3 둘러보기

### 스프링 부트 스타터 살펴보기
스프링 부트 스타터는 의존성이 모여 있는 그룹
- 스타터는 spring-boot-starter-{작업유형}이라는 명명 규칙이 있음

**스타터 예시**
- spring-boot-starter-web : Spring MVC를 사용해서 RESTful 웹 서비스를 개발할 때 필요한 의존성 모음 
- spring-boot-starter-test : 스프링 애플리케이션을 테스트하기 위해 필요한 의존성 모음 
- spring-boot-starter-validation : 유효성 검사를 위해 필요한 의존성 모음 
- spring-boot-starter-actuator : 모니터링을 위해 애플리케이션에서 제공하는 다양한 정보를 제공하기 쉽게 하는 의존성 모음 
- spring-boot-starter-data-jpa : ORM을 사용하기 위한 인터페이스 모음인 JPA를 더 쉽게 사용하기 위한 의존성 모음

### 스프링 부트 3와 자바 버전

#### 텍스트 블록
예전에는 여러줄로 작성할려면 /n을 추가해야 했지만 이제는 """로 감싼 텍스트를 사용
```
String query11 = "SELECT * FROM \"items\"\n" +
  "WHERE" \"status\" = \"ON_SALE\"\n" +
  "ORDER BY \"price\";\n";

String query17 = """
  SELECT * FROM "items"
  WHERE "status" = "ON_SALE"
  ORDER BY "price";
  """;
```

### formatted()메서드의


